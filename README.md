<<<<<<< HEAD
# Photometric-Stereo
A Programming Assignment fronm: https://www.cs.cornell.edu/courses/cs6644/2014fa/assignments/assignment1.html
=======
# Photometric Stereo Toolkit

è¿™æ˜¯ä¸€ä¸ªåŸºäºŽ Python å®žçŽ°çš„**å…‰åº¦ç«‹ä½“ï¼ˆPhotometric Stereoï¼‰**ä¸‰ç»´é‡å»ºç³»ç»Ÿã€‚å®ƒèƒ½å¤Ÿé€šè¿‡å¤šå¼ ä¸åŒå…‰ç…§æ–¹å‘çš„ 2D å›¾åƒï¼Œé«˜ç²¾åº¦åœ°æ¢å¤ç‰©ä½“çš„è¡¨é¢æ³•çº¿ï¼ˆNormalï¼‰ã€æ¼«åå°„è´´å›¾ï¼ˆAlbedoï¼‰ä»¥åŠ 3D æ·±åº¦æ¨¡åž‹ï¼ˆHeight Mapï¼‰ã€‚

## ðŸ“‚ é¡¹ç›®ç»“æž„

```text
Photometric Stereo/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ utils.py             # æ•°æ®è§£æžä¸Žå½©è‰²/ç°åº¦å›¾åƒåŠ è½½
â”‚   â”œâ”€â”€ step1_calibration.py  # å…‰æºæ–¹å‘ä¸Žå‡ ä½•æ ‡å®š
â”‚   â”œâ”€â”€ step2_photometric.py  # æ³•çº¿æ±‚è§£ä¸Žå½©è‰²è´´å›¾åˆæˆ
â”‚   â””â”€â”€ step3_integration.py  # åŸºäºŽ DCT çš„é¢‘åŸŸæ·±åº¦ç§¯åˆ†
â”œâ”€â”€ psmImages/               # åŽŸå§‹æ•°æ®é›† (buddha, cat, chrome ç­‰)
â”œâ”€â”€ output/                  # å­˜æ”¾ç”Ÿæˆçš„æ³•çº¿ã€å½©è‰²è´´å›¾åŠé«˜åº¦å›¾
â”œâ”€â”€ gui_app.py               # äº¤äº’å¼ GUI (æ”¯æŒè™šæ‹Ÿæ‰‹ç”µç­’é‡å¸ƒå…‰)
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜Žæ–‡æ¡£

```

## ðŸ› ï¸ å®žçŽ°åŽŸç†ç®€æž

### 1. å…‰æºæ ‡å®š (Calibration) - `step1_calibration.py`

* **åŽŸç†**ï¼šåˆ©ç”¨å‡ ä½•å…‰å­¦ä¸­çš„åå°„å®šå¾‹ã€‚åœ¨æ‹æ‘„é“¬çƒï¼ˆChrome Ballï¼‰æ—¶ï¼Œçƒé¢ä¸Šæœ€äº®çš„ç‚¹ï¼ˆé•œé¢é«˜å…‰ï¼‰çš„æ³•çº¿  æ­£å¥½ä½äºŽè§†çº¿æ–¹å‘  å’Œå…‰æºæ–¹å‘  çš„è§’å¹³åˆ†çº¿ä¸Šã€‚
* **å®žçŽ°**ï¼š
1. é€šè¿‡ Mask ç¡®å®šçƒå¿ƒå’ŒåŠå¾„ã€‚
2. å®šä½é«˜å…‰ç‚¹ ï¼Œè®¡ç®—è¯¥ç‚¹çƒé¢æ³•çº¿ ã€‚
3. å·²çŸ¥ ï¼Œåˆ©ç”¨å…¬å¼  æŽ¨å¯¼å…‰æºå‘é‡ã€‚



### 2. æ³•çº¿ä¸Žåå°„çŽ‡æ±‚è§£ (Photometric Stereo) - `step2_photometric.py`

* **åŽŸç†**ï¼šåŸºäºŽ**æœ—ä¼¯ä½“åå°„æ¨¡åž‹ï¼ˆLambertian Modelï¼‰**ï¼šã€‚
* **å®žçŽ°**ï¼š
1. **æœ€å°äºŒä¹˜æ³•**ï¼šå¯¹äºŽæ¯ä¸ªåƒç´ ï¼Œåˆ©ç”¨ 12 ç»„è§‚æµ‹å€¼  å’Œå…‰æº  æž„å»ºè¶…é™å®šæ–¹ç¨‹ã€‚
2. **è§£è€¦**ï¼šè§£å‡ºå‘é‡ ã€‚å…¶ä¸­  çš„æ¨¡é•¿å³ä¸ºåå°„çŽ‡ï¼ˆAlbedoï¼‰ï¼Œå•ä½åŒ–åŽçš„  å³ä¸ºæ³•å‘é‡è´´å›¾ï¼ˆNormal Mapï¼‰ã€‚
3. **å½©è‰²æ¢å¤**ï¼šå›ºå®šæ³•çº¿ ï¼Œåœ¨ R/G/B é€šé“åˆ†åˆ«é€šè¿‡æŠ•å½±è®¡ç®—ï¼Œæ´—æŽ‰é˜´å½±ï¼Œè¿˜åŽŸæè´¨æœ¬è‰²ã€‚



### 3. é«˜åº¦å›¾ç§¯åˆ† (Integration) - `step3_integration.py`

* **åŽŸç†**ï¼šå°† 2D æ³•çº¿è½¬åŒ–ä¸º 3D æ·±åº¦ã€‚æœ¬è´¨æ˜¯æ±‚è§£**æ³Šæ¾æ–¹ç¨‹ï¼ˆPoisson Equationï¼‰**ï¼Œä½¿é‡å»ºè¡¨é¢çš„æ¢¯åº¦ä¸Žå®žæµ‹æ³•çº¿æœ€åŒ¹é…ã€‚
* **å®žçŽ°**ï¼š
1. **é¢‘åŸŸæ±‚è§£**ï¼šé‡‡ç”¨ **DCTï¼ˆç¦»æ•£ä½™å¼¦å˜æ¢ï¼‰**ã€‚ç›¸æ¯”ä¼ ç»Ÿçš„ç¨€ç–çŸ©é˜µè¿­ä»£ï¼ŒDCT ç§¯åˆ†åœ¨å¤„ç†ç™¾ä¸‡çº§åƒç´ ï¼ˆåŽŸå§‹åˆ†è¾¨çŽ‡ï¼‰æ—¶é€Ÿåº¦æå‡æ•°å€ï¼Œä¸”å…¨å±€è¿žç»­æ€§æ›´å¥½ã€‚
2. **å°ºåº¦å¯¹é½**ï¼šå¼•å…¥æ ‡å®šæ—¶è®°å½•çš„é“¬çƒåŠå¾„  ä½œä¸ºç‰©ç†åŸºå‡†ï¼Œç¡®ä¿  è½´æ·±åº¦ä¸å†æ˜¯â€œä¸€æ ¹çº¿â€ï¼Œè€Œæ˜¯å…·æœ‰çœŸå®žçš„èµ·ä¼æ¯”ä¾‹ã€‚



### 4. è™šæ‹Ÿå¸ƒå…‰æ¸²æŸ“ (Relighting) - `gui_app.py`

* **åŽŸç†**ï¼šåˆ©ç”¨è®¡ç®—æœºå›¾å½¢å­¦çš„å®žæ—¶ç‚¹ç§¯ç…§æ˜Žã€‚
* **å®žçŽ°**ï¼šã€‚é€šè¿‡ GUI çš„æ»‘åŠ¨æ¡åŠ¨æ€æ”¹å˜ ï¼Œå®žçŽ°â€œè™šæ‹Ÿæ‰‹ç”µç­’â€å®žæ—¶ç…§äº® 3D æ¨¡åž‹çš„æ•ˆæžœã€‚

---

## ðŸš€ å¿«é€Ÿå¼€å§‹

1. **çŽ¯å¢ƒé…ç½®**ï¼š
```bash
pip install numpy opencv-python matplotlib scipy Pillow

```


2. **è¿è¡Œäº¤äº’ç•Œé¢**ï¼š
```bash
python gui_app.py

```


3. **æ“ä½œå»ºè®®**ï¼šå…ˆåœ¨ä¸‹æ‹‰æ¡†é€‰ `chrome.txt` è·‘ **Step 1**ï¼Œå†åˆ‡å›ž `buddha.txt` è·‘åŽç»­æ­¥éª¤ã€‚

---

## ðŸ’¡ æŠ€æœ¯äº®ç‚¹

* **é«˜åˆ†è¾¨çŽ‡æ”¯æŒ**ï¼šåˆ©ç”¨ DCT ç§¯åˆ†æŠ€æœ¯ï¼Œæ”¯æŒåŽŸå§‹åˆ†è¾¨çŽ‡çš„é«˜åº¦å›¾æ¢å¤ï¼Œä¸ä¸¢å¤±ç»†èŠ‚ã€‚
* **å®žæ—¶äº¤äº’**ï¼šGUI é›†æˆäº†è™šæ‹Ÿå¸ƒå…‰é¢„è§ˆï¼Œå¯ç›´è§‚éªŒè¯æ³•çº¿è´´å›¾çš„ç²¾åº¦ã€‚
* **ç‰©ç†å°ºåº¦æ ¡éªŒ**ï¼šåŸºäºŽé“¬çƒåŠå¾„çš„  è½´è‡ªåŠ¨å¯¹é½ï¼Œè§£å†³å…‰åº¦ç«‹ä½“å¸¸è§çš„ Bas-relief æ­§ä¹‰ã€‚
>>>>>>> 5b2a6ba (Initial commit: Photometric Stereo project)
